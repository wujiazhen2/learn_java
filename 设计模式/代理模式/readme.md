# 代理模式
定义:为其他对象提供一种代理以控制对这个对象的访问。在某些情况下，一个对象不适合或者不能直接引用另一个对象，而代理对象可以在客户端和目标对象之间起到中介的作用。

>装饰模式和代理模式非常相似,从定义可以看到代理模式主要是控制对对象的访问,装饰模式是对对象的强化

组成:
抽象角色：通过接口或抽象类声明真实角色实现的业务方法。
代理角色：实现抽象角色，是真实角色的代理，通过真实角色的业务逻辑方法来实现抽象方法，并可以附加自己的操作。
真实角色：实现抽象角色，定义真实角色所要实现的业务逻辑，供代理角色调用

![代理模式](https://github.com/wujiazhen2/learn_java/blob/master/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/img/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.png?raw=true)


## 静态代理

例子: 儿子想玩游戏由父母控制。父母规定超过晚上10就能玩游戏。这种情况父母就是儿子的代理。

代码见 staticProxy包。

## 动态代理

动态代理和静态代理的区别：

静态代理: 代理类由程序员创建,编译时即存在
动态代理：代理类在程序运行时运用反射机制动态创建而成。


常用的两种动态代理 jdk动态代理和cglib动态代理

区别：
1. jdk动态代理真实角色必须有接口，生成的代理类实现真实角色的同一接口。cglib代理不要求真实角色必须实现接口，生成的代理类是真实角色的子类。




代理模式的优点
1. 职责清晰,真实角色复杂实现具体业务，代理类复制控制业务执行。
2. 高扩展，无论具体业务怎么变化（真实角色）,代理类都可以控制